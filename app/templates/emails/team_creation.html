{% extends "emails/email_base.html" %}

{% block title %}Team Created Successfully{% endblock %}

{% block header %}Team Created Successfully{% endblock %}

{% block content %}
    <p>Your team has been created and is now in the system.</p>

    <div class="team-info">
        <p><strong>Team Name:</strong> {{ team.name }}</p>
        <p><strong>Format:</strong> {{ team.format.value }}</p>
        <p><strong>Estimated Duration:</strong> {{ estimated_duration_display }}</p>
        <p><strong>Status:</strong> <span class="status-badge status-pending">{{ team.status.value.title() }}</span></p>
    </div>

  {% if not team.previous_baton_serial %}
    <div class="alert-warning">
        <h4>Payment Required for Approval</h4>
        <p>Your registration requires a payment of $16 for a new race baton. Your team will not be approved until this payment is received.</p>
        <p>Please see the <a href="{{ url_for('main.payment') }}">payment details</a> for instructions.</p>
    </div>
    {% endif %}

    {% if team.status.value == 'pending' %}
    <div class="next-steps">
        <h3>Next Steps:</h3>

        {% if team.format.value == 'Solo' %}
        <div class="step">
            <span class="step-number">1</span>
            <strong>Wait for approval:</strong> Your solo entry is pending admin approval. You'll receive an email once approved.
        </div>
        <div class="step">
            <span class="step-number">2</span>
            <strong>Review your preferences:</strong> You can update your running preferences anytime from your team page.
        </div>
        <div class="step">
            <span class="step-number">3</span>
            <strong>Prepare for the event:</strong> Start training and get ready for race day!
        </div>
        {% else %}
        <div class="step">
            <span class="step-number">1</span>
            <strong>Complete your registration:</strong> As team captain, you need to fill out your running preferences.
        </div>
        <div class="step">
            <span class="step-number">2</span>
            <strong>Wait for approval:</strong> Your team is pending admin approval. You'll receive an email once approved.
        </div>
        <div class="step">
            <span class="step-number">3</span>
            <strong>Build your team:</strong> Once approved, invite other runners to join your team.
        </div>
        {% endif %}
    </div>


    {% endif %}

    <div class="btn-container">
        <a href="{{ team_url }}" class="btn">View Your Team</a>
    </div>

    <p><small>If you have any questions about your team registration or {{ event_name }}, please contact us at <a href="mailto:{{ contact_email }}">{{ contact_email }}</a></small></p>
{% endblock %}